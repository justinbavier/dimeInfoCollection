<!DOCTYPE html>
<html lang="en" data-ng-app="myApp">
  <head>
    <title>Dime</title>
    <link type="text/css" rel="stylesheet" href="materialize/css/materialize.css"  media="screen,projection"/>
    <script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
    <script type="text/javascript" src="http://code.angularjs.org/1.2.25/angular.min.js"></script>
    <script src="https://code.angularjs.org/2.0.0-beta.0/http.dev.js"></script>
    <script type="text/javascript" src="js/modules/promise-tracker.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  </head>

  <body class="dime-gradient">
  <div ng-app="myApp" ng-controller="formCtrl">
    <!-- Logo -->
    <div align="center">
      <a href="https://sleepy-hamlet-74920.herokuapp.com/public/">
      <img src="assets/dimeBanner.png" alt="Header Logo" class="responsive-img" width="600">
    </a>

    </div>
    <!-- Mission statement -->
    <div class="row">
      <div class="col s4"></div>
      <div class="col s4">
        <div class="card">
          <div class="card-content">
            <span class="card-title">Mission Statement</span>
            <p>
              Our goal is to seamlessly incorporate charitable donations into people's daily lives. In doing so we hope to set the new standard for how charitable donations are collected. We believe making substantial charitable donations is an achievable goal through nominal daily contributions that add up over time.
            </p>
          </div>
        </div>
      </div>
      <div class="col s4"></div>
    </div>
    <!--  First Name, Last Name, Email -->
    <div class="row">
      <div class="col s4"></div>
      <div class="col s4">
        <div class="card">
          <div class="card-content">
            <p>
              Don't worry, we aren't going to spam you with a bunch of e-mails. We'll only hit you up twice, once when we begin beta testing and again when we launch!
            </p>
            <br />
            <form novalidate>
              First Name:<br>
              <input type="text" ng-model="user.firstName"><br>
              Last Name:<br>
              <input type="text" ng-model="user.lastName">
              Email:<br>
              <input type="text" ng-model="user.email" required><br>
              <br>
              <div class="col s4"></div>
              <button class="green accent-3 btn col s4" ng-click="postToStoreEmail()">Submit</button>
            </form>
          </div>
        </div>
      </div>
      <div class="col s4"></div>
    </div>
    <!-- All the other stuff -->
    <div class="row">
      <div class="col s4"></div>
      <div class="col s4">
        <div class="card">
          <div class="card-content">
            <p>
              Another fun fact, all of the following questions are optional and will be stored anonymously.
            </p>
            <br />
            <form novalidate>
              <!-- Age<br>
              <input type="text" ng-model="user.age"> -->

              What was your total income, before taxes, during the past year?<br>
              <p>
               <input class="with-gap" name="incomeRange" ng-model="user.incomeRange" value="Less than $25,000" type="radio" id="incomeBracket1" />
               <label for="incomeBracket1">Less than $25,000</label>
              </p>
              <p>
               <input class="with-gap" name="incomeRange" ng-model="user.incomeRange" value="$25,000 to $49,999" type="radio" id="incomeBracket2" />
               <label for="incomeBracket2">$25,000 to $49,999</label>
              </p>
              <p>
               <input class="with-gap" name="incomeRange" ng-model="user.incomeRange" value="$50,000 to $99,999" type="radio" id="incomeBracket3" />
               <label for="incomeBracket3">$50,000 to $99,999</label>
              </p>
              <p>
               <input class="with-gap" name="incomeRange" ng-model="user.incomeRange" value="$100,000 or more" type="radio" id="incomeBracket4" />
               <label for="incomeBracket4">$100,000 or more</label>
              </p>
              <br />
              How much are you willing to donate each month?<br>
              <input type="text" ng-model="user.monthlyDonation">
              Do you currently make regular donations to any charitable organizations?<br>
              <p>
               <input class="with-gap" name="doesDonate" ng-model="user.doesDonate" value="Yes" type="radio" id="yesDonate" />
               <label for="yesDonate">Yes</label>
              </p>
              <p>
               <input class="with-gap" name="doesDonate" ng-model="user.doesDonate" value="No" type="radio" id="noDonate" />
               <label for="noDonate">No</label>
              </p>
              <br />
              Name a few of your favorite charities:<br><br>
              1. <input type="text" ng-model="user.charityOne"><br>
              2. <input type="text" ng-model="user.charityTwo"><br>
              3. <input type="text" ng-model="user.charityThree"><br>
              How many times do you typically use your debit/credit card in a day?<br>
              <p>
                <input class="with-gap" name="numberOfTrans" ng-model="user.numOfTrans" value="0" type="radio" id="0" />
                <label for="0">0</label>
              </p>
              <p>
                <input class="with-gap" name="numberOfTrans" ng-model="user.numOfTrans" value="1-3" type="radio" id="1-3" />
                <label for="1-3">1-3</label>
              </p>
              <p>
                <input class="with-gap" name="numberOfTrans" ng-model="user.numOfTrans" value="4-6" type="radio" id="4-6" />
                <label for="4-6">4-6</label>
              </p>
              <p>
                <input class="with-gap" name="numberOfTrans" ng-model="user.numOfTrans" value="7+" type="radio" id="7+" />
                <label for="7+">7+</label>
              </p>
              <br>

              <!-- <input type="text" ng-model="user.numOfTrans"><br> -->
              What is your employment status?<br>
              <p>
                <input class="with-gap" name="employment" ng-model="user.employmentStatus" value="Student" type="radio" id="student" />
                <label for="student">Student</label>
              </p>
              <p>
                <input class="with-gap" name="employment" ng-model="user.employmentStatus" value="Employed" type="radio" id="employed" />
                <label for="employed">Employed</label>
              </p>
              <p>
                <input class="with-gap" name="employment" ng-model="user.employmentStatus" value="EmployedStudent" type="radio" id="employedstudent" />
                <label for="employedstudent">Student and Employed</label>
              </p>
              <p>
                <input class="with-gap" name="employment" ng-model="user.employmentStatus" value="Unemployed" type="radio" id="unemployed" />
                <label for="unemployed">Unemployed</label>
              </p>
              <br />
              Would you use Dime?<br>
              <p>
                <input class="with-gap" name="useDime" ng-model="user.useDime" value="Yes" type="radio" id="yesUse" />
                <label for="yesUse">Yes</label>
              </p>
              <p>
                <input class="with-gap" name="useDime" ng-model="user.useDime" value="Undecided" type="radio" id="undecidedUse" />
                <label for="undecidedUse">Undecided</label>
              </p>
              <p>
                <input class="with-gap" name="useDime" ng-model="user.useDime" value="No" type="radio" id="noUse" />
                <label for="noUse">No</label>
              </p>
              <br>
              <div class="col s4"></div>
              <button class="green accent-3 btn col s4" ng-click="postToStoreAnon()">Submit</button>
            </form>
          </div>
        </div>
      </div>
      <div class="col s4"></div>
    </div>

</div>

  <script>
  var app = angular.module('myApp', []);
  app.controller('formCtrl', function($scope) {
      $scope.master = {firstName:"", lastName:""};
      $scope.reset = function() {
          $scope.user = angular.copy($scope.master);
      };
      $scope.reset();
      $scope.postToStoreEmail = function() {

        fetch('https://sleepy-hamlet-74920.herokuapp.com/parse/functions/storeEmailName?firstName='+$scope.user.firstName+'&lastName='+$scope.user.lastName+'&email='+$scope.user.email, {
          method: 'POST',
          headers: {
            'X-Parse-Application-Id': 'dime',
            'Content-Type': 'application/json',
          },

        }).then(location = window.location)

      };

      $scope.postToStoreAnon = function() {
        fetch('https://sleepy-hamlet-74920.herokuapp.com/parse/functions/anonInfo?incomeRange='+$scope.user.incomeRange+'&monthlyDonation='+$scope.user.monthlyDonation+'&doesDonate='+$scope.user.doesDonate+'&charityOne='+$scope.user.charityOne+'&charityTwo='+$scope.user.charityTwo+'&charityThree='+$scope.user.charityThree+'&numOfTrans='+$scope.user.numOfTrans+'&employmentStatus='+$scope.user.employmentStatus+'&wouldYouUseDime='+$scope.user.useDime, {
          method: 'POST',
          headers: {
            'X-Parse-Application-Id': 'dime',
            'Content-Type': 'application/json',
          },
        }).then(location = window.location)
      };

      $scope.postToAnon = function() {
        fetch('https://sleepy-hamlet-74920.herokuapp.com/parse/functions/storeEmailName?firstName='+$scope.user.firstName+'&lastName='+$scope.user.lastName+'&email='+$scope.user.email, {
          method: 'POST',
          headers: {
            'X-Parse-Application-Id': 'dime',
            'Content-Type': 'application/json',
          },

        }).then(location = window.location)
      };
  });

      $(document).ready(function() {
        $('select').material_select();
      });
  </script>

  </body>
</html>
